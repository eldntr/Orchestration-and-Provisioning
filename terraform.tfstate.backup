{"version":4,"terraform_version":"1.8.6","serial":92,"lineage":"a0bbe8c2-b66f-a098-6e7d-e44f265a4851","outputs":{"dbserver_ip":{"value":"192.168.122.171","type":"string"},"webserver_ip":{"value":"192.168.122.45","type":"string"}},"resources":[{"mode":"data","type":"template_file","name":"dbserver_user_data","provider":"provider[\"registry.opentofu.org/hashicorp/template\"]","instances":[{"schema_version":0,"attributes":{"filename":null,"id":"bfcfa067b02ba70763ec5302844e89ad1b0b7a14775672d45f68813bde21f840","rendered":"#cloud-config\nhostname: dbserver\nusers:\n  - name: ansible\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCjnt1MJFfpujCvd0za6I/vckaWjhfltljdx/Kr/BdAlRHPvyto0/EHnAdUxGBX8JpDdgo0CjAVzW7IFIj5U42z0qVb+yX/qtLKAef6XIlMLWFA+P0F3hkBB/E9wns71Rlh1r6Q6n/3rv7FRleWJrR31As6FvSkaq5z09xaPd+vRlHDVxYVoQrYUEg7Ck2Wt1nrOKJ68K+brod6lKJH7XFEPFv5rQCuuUw6N56dhRmnDIZ3DXl9iXIkupuef6BvJATj+LZ1qoNfOmnphznDOqW4BtPjQPuuX6sO0dQ2UOOkKal0Xq53COP9NwiSTQiQG21x0a72V53OvSEhbA2k2+PX debian@debian\n\nruncmd:\n  - apt-get update \u0026\u0026 apt-get install -y cloud-guest-utils\n  - growpart /dev/vda 1\n  - resize2fs /dev/vda1\n","template":"#cloud-config\nhostname: dbserver\nusers:\n  - name: ansible\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCjnt1MJFfpujCvd0za6I/vckaWjhfltljdx/Kr/BdAlRHPvyto0/EHnAdUxGBX8JpDdgo0CjAVzW7IFIj5U42z0qVb+yX/qtLKAef6XIlMLWFA+P0F3hkBB/E9wns71Rlh1r6Q6n/3rv7FRleWJrR31As6FvSkaq5z09xaPd+vRlHDVxYVoQrYUEg7Ck2Wt1nrOKJ68K+brod6lKJH7XFEPFv5rQCuuUw6N56dhRmnDIZ3DXl9iXIkupuef6BvJATj+LZ1qoNfOmnphznDOqW4BtPjQPuuX6sO0dQ2UOOkKal0Xq53COP9NwiSTQiQG21x0a72V53OvSEhbA2k2+PX debian@debian\n\nruncmd:\n  - apt-get update \u0026\u0026 apt-get install -y cloud-guest-utils\n  - growpart /dev/vda 1\n  - resize2fs /dev/vda1\n","vars":null},"sensitive_attributes":[]}]},{"mode":"data","type":"template_file","name":"webserver_user_data","provider":"provider[\"registry.opentofu.org/hashicorp/template\"]","instances":[{"schema_version":0,"attributes":{"filename":null,"id":"d32b4a242cdc24de03197fd6c32eccf20215370f48cc9af33a4892bc7c88da9a","rendered":"#cloud-config\nhostname: webserver\nusers:\n  - name: ansible\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCjnt1MJFfpujCvd0za6I/vckaWjhfltljdx/Kr/BdAlRHPvyto0/EHnAdUxGBX8JpDdgo0CjAVzW7IFIj5U42z0qVb+yX/qtLKAef6XIlMLWFA+P0F3hkBB/E9wns71Rlh1r6Q6n/3rv7FRleWJrR31As6FvSkaq5z09xaPd+vRlHDVxYVoQrYUEg7Ck2Wt1nrOKJ68K+brod6lKJH7XFEPFv5rQCuuUw6N56dhRmnDIZ3DXl9iXIkupuef6BvJATj+LZ1qoNfOmnphznDOqW4BtPjQPuuX6sO0dQ2UOOkKal0Xq53COP9NwiSTQiQG21x0a72V53OvSEhbA2k2+PX debian@debian\n\n","template":"#cloud-config\nhostname: webserver\nusers:\n  - name: ansible\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCjnt1MJFfpujCvd0za6I/vckaWjhfltljdx/Kr/BdAlRHPvyto0/EHnAdUxGBX8JpDdgo0CjAVzW7IFIj5U42z0qVb+yX/qtLKAef6XIlMLWFA+P0F3hkBB/E9wns71Rlh1r6Q6n/3rv7FRleWJrR31As6FvSkaq5z09xaPd+vRlHDVxYVoQrYUEg7Ck2Wt1nrOKJ68K+brod6lKJH7XFEPFv5rQCuuUw6N56dhRmnDIZ3DXl9iXIkupuef6BvJATj+LZ1qoNfOmnphznDOqW4BtPjQPuuX6sO0dQ2UOOkKal0Xq53COP9NwiSTQiQG21x0a72V53OvSEhbA2k2+PX debian@debian\n\n","vars":null},"sensitive_attributes":[]}]},{"mode":"managed","type":"libvirt_cloudinit_disk","name":"dbserver_cloudinit","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"schema_version":0,"attributes":{"id":"/var/lib/libvirt/images/dbserver-cloudinit.iso;f9185f56-8c0b-485e-afcf-55ef5effc705","meta_data":"","name":"dbserver-cloudinit.iso","network_config":"","pool":"default","user_data":"#cloud-config\nhostname: dbserver\nusers:\n  - name: ansible\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCjnt1MJFfpujCvd0za6I/vckaWjhfltljdx/Kr/BdAlRHPvyto0/EHnAdUxGBX8JpDdgo0CjAVzW7IFIj5U42z0qVb+yX/qtLKAef6XIlMLWFA+P0F3hkBB/E9wns71Rlh1r6Q6n/3rv7FRleWJrR31As6FvSkaq5z09xaPd+vRlHDVxYVoQrYUEg7Ck2Wt1nrOKJ68K+brod6lKJH7XFEPFv5rQCuuUw6N56dhRmnDIZ3DXl9iXIkupuef6BvJATj+LZ1qoNfOmnphznDOqW4BtPjQPuuX6sO0dQ2UOOkKal0Xq53COP9NwiSTQiQG21x0a72V53OvSEhbA2k2+PX debian@debian\n\nruncmd:\n  - apt-get update \u0026\u0026 apt-get install -y cloud-guest-utils\n  - growpart /dev/vda 1\n  - resize2fs /dev/vda1\n"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["data.template_file.dbserver_user_data","libvirt_volume.dbserver_qcow2","libvirt_volume.ubuntu_image","null_resource.download_ubuntu_image","null_resource.resize_dbserver_disk"]}]},{"mode":"managed","type":"libvirt_cloudinit_disk","name":"webserver_cloudinit","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"schema_version":0,"attributes":{"id":"/var/lib/libvirt/images/webserver-cloudinit.iso;22a7e142-9f00-435b-bd65-21ed5db73bd0","meta_data":"","name":"webserver-cloudinit.iso","network_config":"","pool":"default","user_data":"#cloud-config\nhostname: webserver\nusers:\n  - name: ansible\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCjnt1MJFfpujCvd0za6I/vckaWjhfltljdx/Kr/BdAlRHPvyto0/EHnAdUxGBX8JpDdgo0CjAVzW7IFIj5U42z0qVb+yX/qtLKAef6XIlMLWFA+P0F3hkBB/E9wns71Rlh1r6Q6n/3rv7FRleWJrR31As6FvSkaq5z09xaPd+vRlHDVxYVoQrYUEg7Ck2Wt1nrOKJ68K+brod6lKJH7XFEPFv5rQCuuUw6N56dhRmnDIZ3DXl9iXIkupuef6BvJATj+LZ1qoNfOmnphznDOqW4BtPjQPuuX6sO0dQ2UOOkKal0Xq53COP9NwiSTQiQG21x0a72V53OvSEhbA2k2+PX debian@debian\n\n"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["data.template_file.webserver_user_data"]}]},{"mode":"managed","type":"libvirt_domain","name":"dbserver","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"status":"tainted","schema_version":0,"attributes":{"arch":null,"autostart":null,"boot_device":[],"cloudinit":"/var/lib/libvirt/images/dbserver-cloudinit.iso;f9185f56-8c0b-485e-afcf-55ef5effc705","cmdline":null,"console":[],"coreos_ignition":null,"cpu":[],"description":null,"disk":[{"block_device":"","file":"","scsi":false,"url":"","volume_id":"/var/lib/libvirt/images/dbserver.qcow2","wwn":""}],"emulator":null,"filesystem":[],"firmware":null,"fw_cfg_name":"opt/com.coreos/config","graphics":[],"id":"93697d79-7604-4d84-98ae-ab5679937436","initrd":null,"kernel":null,"machine":null,"memory":8192,"metadata":null,"name":"dbserver","network_interface":[{"addresses":[],"bridge":"","hostname":"","mac":"","macvtap":"","network_id":"","network_name":"default","passthrough":"","vepa":"","wait_for_lease":true}],"nvram":[],"qemu_agent":false,"running":true,"timeouts":null,"tpm":[],"vcpu":2,"video":[],"xml":[]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ==","dependencies":["data.template_file.dbserver_user_data","libvirt_cloudinit_disk.dbserver_cloudinit","libvirt_volume.dbserver_qcow2","libvirt_volume.ubuntu_image","null_resource.download_ubuntu_image","null_resource.resize_dbserver_disk"]}]},{"mode":"managed","type":"libvirt_domain","name":"webserver","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"status":"tainted","schema_version":0,"attributes":{"arch":null,"autostart":null,"boot_device":[],"cloudinit":"/var/lib/libvirt/images/webserver-cloudinit.iso;22a7e142-9f00-435b-bd65-21ed5db73bd0","cmdline":null,"console":[],"coreos_ignition":null,"cpu":[],"description":null,"disk":[{"block_device":"","file":"","scsi":false,"url":"","volume_id":"/var/lib/libvirt/images/webserver.qcow2","wwn":""}],"emulator":null,"filesystem":[],"firmware":null,"fw_cfg_name":"opt/com.coreos/config","graphics":[],"id":"46450583-82cf-4f51-a253-13d8b57c8e85","initrd":null,"kernel":null,"machine":null,"memory":4096,"metadata":null,"name":"webserver","network_interface":[{"addresses":[],"bridge":"","hostname":"","mac":"","macvtap":"","network_id":"","network_name":"default","passthrough":"","vepa":"","wait_for_lease":true}],"nvram":[],"qemu_agent":false,"running":true,"timeouts":null,"tpm":[],"vcpu":2,"video":[],"xml":[]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ==","dependencies":["data.template_file.webserver_user_data","libvirt_cloudinit_disk.webserver_cloudinit","libvirt_volume.ubuntu_image","libvirt_volume.webserver_qcow2","null_resource.download_ubuntu_image"]}]},{"mode":"managed","type":"libvirt_volume","name":"dbserver_qcow2","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"schema_version":0,"attributes":{"base_volume_id":"/var/lib/libvirt/images/ubuntu.qcow2","base_volume_name":null,"base_volume_pool":null,"format":"qcow2","id":"/var/lib/libvirt/images/dbserver.qcow2","name":"dbserver.qcow2","pool":"default","size":10737418240,"source":null,"xml":[]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["libvirt_volume.ubuntu_image","null_resource.download_ubuntu_image"]}]},{"mode":"managed","type":"libvirt_volume","name":"ubuntu_image","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"schema_version":0,"attributes":{"base_volume_id":null,"base_volume_name":null,"base_volume_pool":null,"format":"qcow2","id":"/var/lib/libvirt/images/ubuntu.qcow2","name":"ubuntu.qcow2","pool":"default","size":2361393152,"source":"/var/lib/libvirt/images/focal-server-cloudimg-amd64.img","xml":[]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["null_resource.download_ubuntu_image"]}]},{"mode":"managed","type":"libvirt_volume","name":"webserver_qcow2","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"schema_version":0,"attributes":{"base_volume_id":"/var/lib/libvirt/images/ubuntu.qcow2","base_volume_name":null,"base_volume_pool":null,"format":"qcow2","id":"/var/lib/libvirt/images/webserver.qcow2","name":"webserver.qcow2","pool":"default","size":2361393152,"source":null,"xml":[]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["libvirt_volume.ubuntu_image","null_resource.download_ubuntu_image"]}]},{"mode":"managed","type":"null_resource","name":"download_ubuntu_image","provider":"provider[\"registry.opentofu.org/hashicorp/null\"]","instances":[{"schema_version":0,"attributes":{"id":"9207725012466465396","triggers":null},"sensitive_attributes":[]}]},{"mode":"managed","type":"null_resource","name":"resize_dbserver_disk","provider":"provider[\"registry.opentofu.org/hashicorp/null\"]","instances":[{"schema_version":0,"attributes":{"id":"4824197699916775583","triggers":null},"sensitive_attributes":[],"dependencies":["libvirt_volume.dbserver_qcow2","libvirt_volume.ubuntu_image","null_resource.download_ubuntu_image"]}]}],"check_results":null}
