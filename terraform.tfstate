{"version":4,"terraform_version":"1.8.6","serial":93,"lineage":"a0bbe8c2-b66f-a098-6e7d-e44f265a4851","outputs":{"dbserver_ip":{"value":"192.168.122.110","type":"string"},"webserver_ip":{"value":"192.168.122.107","type":"string"}},"resources":[{"mode":"data","type":"template_file","name":"dbserver_user_data","provider":"provider[\"registry.opentofu.org/hashicorp/template\"]","instances":[{"schema_version":0,"attributes":{"filename":null,"id":"bfcfa067b02ba70763ec5302844e89ad1b0b7a14775672d45f68813bde21f840","rendered":"#cloud-config\nhostname: dbserver\nusers:\n  - name: ansible\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCjnt1MJFfpujCvd0za6I/vckaWjhfltljdx/Kr/BdAlRHPvyto0/EHnAdUxGBX8JpDdgo0CjAVzW7IFIj5U42z0qVb+yX/qtLKAef6XIlMLWFA+P0F3hkBB/E9wns71Rlh1r6Q6n/3rv7FRleWJrR31As6FvSkaq5z09xaPd+vRlHDVxYVoQrYUEg7Ck2Wt1nrOKJ68K+brod6lKJH7XFEPFv5rQCuuUw6N56dhRmnDIZ3DXl9iXIkupuef6BvJATj+LZ1qoNfOmnphznDOqW4BtPjQPuuX6sO0dQ2UOOkKal0Xq53COP9NwiSTQiQG21x0a72V53OvSEhbA2k2+PX debian@debian\n\nruncmd:\n  - apt-get update \u0026\u0026 apt-get install -y cloud-guest-utils\n  - growpart /dev/vda 1\n  - resize2fs /dev/vda1\n","template":"#cloud-config\nhostname: dbserver\nusers:\n  - name: ansible\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCjnt1MJFfpujCvd0za6I/vckaWjhfltljdx/Kr/BdAlRHPvyto0/EHnAdUxGBX8JpDdgo0CjAVzW7IFIj5U42z0qVb+yX/qtLKAef6XIlMLWFA+P0F3hkBB/E9wns71Rlh1r6Q6n/3rv7FRleWJrR31As6FvSkaq5z09xaPd+vRlHDVxYVoQrYUEg7Ck2Wt1nrOKJ68K+brod6lKJH7XFEPFv5rQCuuUw6N56dhRmnDIZ3DXl9iXIkupuef6BvJATj+LZ1qoNfOmnphznDOqW4BtPjQPuuX6sO0dQ2UOOkKal0Xq53COP9NwiSTQiQG21x0a72V53OvSEhbA2k2+PX debian@debian\n\nruncmd:\n  - apt-get update \u0026\u0026 apt-get install -y cloud-guest-utils\n  - growpart /dev/vda 1\n  - resize2fs /dev/vda1\n","vars":null},"sensitive_attributes":[]}]},{"mode":"data","type":"template_file","name":"webserver_user_data","provider":"provider[\"registry.opentofu.org/hashicorp/template\"]","instances":[{"schema_version":0,"attributes":{"filename":null,"id":"d32b4a242cdc24de03197fd6c32eccf20215370f48cc9af33a4892bc7c88da9a","rendered":"#cloud-config\nhostname: webserver\nusers:\n  - name: ansible\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCjnt1MJFfpujCvd0za6I/vckaWjhfltljdx/Kr/BdAlRHPvyto0/EHnAdUxGBX8JpDdgo0CjAVzW7IFIj5U42z0qVb+yX/qtLKAef6XIlMLWFA+P0F3hkBB/E9wns71Rlh1r6Q6n/3rv7FRleWJrR31As6FvSkaq5z09xaPd+vRlHDVxYVoQrYUEg7Ck2Wt1nrOKJ68K+brod6lKJH7XFEPFv5rQCuuUw6N56dhRmnDIZ3DXl9iXIkupuef6BvJATj+LZ1qoNfOmnphznDOqW4BtPjQPuuX6sO0dQ2UOOkKal0Xq53COP9NwiSTQiQG21x0a72V53OvSEhbA2k2+PX debian@debian\n\n","template":"#cloud-config\nhostname: webserver\nusers:\n  - name: ansible\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCjnt1MJFfpujCvd0za6I/vckaWjhfltljdx/Kr/BdAlRHPvyto0/EHnAdUxGBX8JpDdgo0CjAVzW7IFIj5U42z0qVb+yX/qtLKAef6XIlMLWFA+P0F3hkBB/E9wns71Rlh1r6Q6n/3rv7FRleWJrR31As6FvSkaq5z09xaPd+vRlHDVxYVoQrYUEg7Ck2Wt1nrOKJ68K+brod6lKJH7XFEPFv5rQCuuUw6N56dhRmnDIZ3DXl9iXIkupuef6BvJATj+LZ1qoNfOmnphznDOqW4BtPjQPuuX6sO0dQ2UOOkKal0Xq53COP9NwiSTQiQG21x0a72V53OvSEhbA2k2+PX debian@debian\n\n","vars":null},"sensitive_attributes":[]}]},{"mode":"managed","type":"libvirt_cloudinit_disk","name":"dbserver_cloudinit","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"schema_version":0,"attributes":{"id":"/var/lib/libvirt/images/dbserver-cloudinit.iso;244c23f1-7b58-41a4-b4ee-52fa4992441d","meta_data":"","name":"dbserver-cloudinit.iso","network_config":"","pool":"default","user_data":"#cloud-config\nhostname: dbserver\nusers:\n  - name: ansible\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCjnt1MJFfpujCvd0za6I/vckaWjhfltljdx/Kr/BdAlRHPvyto0/EHnAdUxGBX8JpDdgo0CjAVzW7IFIj5U42z0qVb+yX/qtLKAef6XIlMLWFA+P0F3hkBB/E9wns71Rlh1r6Q6n/3rv7FRleWJrR31As6FvSkaq5z09xaPd+vRlHDVxYVoQrYUEg7Ck2Wt1nrOKJ68K+brod6lKJH7XFEPFv5rQCuuUw6N56dhRmnDIZ3DXl9iXIkupuef6BvJATj+LZ1qoNfOmnphznDOqW4BtPjQPuuX6sO0dQ2UOOkKal0Xq53COP9NwiSTQiQG21x0a72V53OvSEhbA2k2+PX debian@debian\n\nruncmd:\n  - apt-get update \u0026\u0026 apt-get install -y cloud-guest-utils\n  - growpart /dev/vda 1\n  - resize2fs /dev/vda1\n"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["data.template_file.dbserver_user_data","libvirt_volume.dbserver_qcow2","libvirt_volume.ubuntu_image","null_resource.download_ubuntu_image","null_resource.resize_dbserver_disk"]}]},{"mode":"managed","type":"libvirt_cloudinit_disk","name":"webserver_cloudinit","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"schema_version":0,"attributes":{"id":"/var/lib/libvirt/images/webserver-cloudinit.iso;2175da03-4b7a-4af6-9d73-590fe0e86767","meta_data":"","name":"webserver-cloudinit.iso","network_config":"","pool":"default","user_data":"#cloud-config\nhostname: webserver\nusers:\n  - name: ansible\n    sudo: ['ALL=(ALL) NOPASSWD:ALL']\n    shell: /bin/bash\n    ssh_authorized_keys:\n      - ssh-rsa AAAAB3NzaC1yc2EAAAADAQABAAABAQCjnt1MJFfpujCvd0za6I/vckaWjhfltljdx/Kr/BdAlRHPvyto0/EHnAdUxGBX8JpDdgo0CjAVzW7IFIj5U42z0qVb+yX/qtLKAef6XIlMLWFA+P0F3hkBB/E9wns71Rlh1r6Q6n/3rv7FRleWJrR31As6FvSkaq5z09xaPd+vRlHDVxYVoQrYUEg7Ck2Wt1nrOKJ68K+brod6lKJH7XFEPFv5rQCuuUw6N56dhRmnDIZ3DXl9iXIkupuef6BvJATj+LZ1qoNfOmnphznDOqW4BtPjQPuuX6sO0dQ2UOOkKal0Xq53COP9NwiSTQiQG21x0a72V53OvSEhbA2k2+PX debian@debian\n\n"},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["data.template_file.webserver_user_data"]}]},{"mode":"managed","type":"libvirt_domain","name":"dbserver","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"schema_version":0,"attributes":{"arch":"x86_64","autostart":null,"boot_device":[],"cloudinit":"/var/lib/libvirt/images/dbserver-cloudinit.iso;244c23f1-7b58-41a4-b4ee-52fa4992441d","cmdline":null,"console":[],"coreos_ignition":null,"cpu":[],"description":"","disk":[{"block_device":"","file":"","scsi":false,"url":"","volume_id":"/var/lib/libvirt/images/dbserver.qcow2","wwn":""}],"emulator":"/usr/bin/qemu-system-x86_64","filesystem":[],"firmware":"","fw_cfg_name":"opt/com.coreos/config","graphics":[],"id":"3746f914-776e-4909-962c-49c6ead4dd6c","initrd":"","kernel":"","machine":"pc","memory":8192,"metadata":null,"name":"dbserver","network_interface":[{"addresses":["192.168.122.110"],"bridge":"","hostname":"","mac":"52:54:00:C6:5F:A3","macvtap":"","network_id":"801001c6-b270-47dc-b2a4-abf943e08513","network_name":"default","passthrough":"","vepa":"","wait_for_lease":true}],"nvram":[],"qemu_agent":false,"running":true,"timeouts":null,"tpm":[],"vcpu":2,"video":[],"xml":[]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ==","dependencies":["data.template_file.dbserver_user_data","libvirt_cloudinit_disk.dbserver_cloudinit","libvirt_volume.dbserver_qcow2","libvirt_volume.ubuntu_image","null_resource.download_ubuntu_image","null_resource.resize_dbserver_disk"]}]},{"mode":"managed","type":"libvirt_domain","name":"webserver","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"schema_version":0,"attributes":{"arch":"x86_64","autostart":null,"boot_device":[],"cloudinit":"/var/lib/libvirt/images/webserver-cloudinit.iso;2175da03-4b7a-4af6-9d73-590fe0e86767","cmdline":null,"console":[],"coreos_ignition":null,"cpu":[],"description":"","disk":[{"block_device":"","file":"","scsi":false,"url":"","volume_id":"/var/lib/libvirt/images/webserver.qcow2","wwn":""}],"emulator":"/usr/bin/qemu-system-x86_64","filesystem":[],"firmware":"","fw_cfg_name":"opt/com.coreos/config","graphics":[],"id":"efe0ac1a-dd41-4861-987f-6335101d8dcd","initrd":"","kernel":"","machine":"pc","memory":4096,"metadata":null,"name":"webserver","network_interface":[{"addresses":["192.168.122.107"],"bridge":"","hostname":"","mac":"52:54:00:E6:F8:A5","macvtap":"","network_id":"801001c6-b270-47dc-b2a4-abf943e08513","network_name":"default","passthrough":"","vepa":"","wait_for_lease":true}],"nvram":[],"qemu_agent":false,"running":true,"timeouts":null,"tpm":[],"vcpu":2,"video":[],"xml":[]},"sensitive_attributes":[],"private":"eyJlMmJmYjczMC1lY2FhLTExZTYtOGY4OC0zNDM2M2JjN2M0YzAiOnsiY3JlYXRlIjozMDAwMDAwMDAwMDB9fQ==","dependencies":["data.template_file.webserver_user_data","libvirt_cloudinit_disk.webserver_cloudinit","libvirt_volume.ubuntu_image","libvirt_volume.webserver_qcow2","null_resource.download_ubuntu_image"]}]},{"mode":"managed","type":"libvirt_volume","name":"dbserver_qcow2","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"schema_version":0,"attributes":{"base_volume_id":"/var/lib/libvirt/images/ubuntu.qcow2","base_volume_name":null,"base_volume_pool":null,"format":"qcow2","id":"/var/lib/libvirt/images/dbserver.qcow2","name":"dbserver.qcow2","pool":"default","size":10737418240,"source":null,"xml":[]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["libvirt_volume.ubuntu_image","null_resource.download_ubuntu_image"]}]},{"mode":"managed","type":"libvirt_volume","name":"ubuntu_image","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"schema_version":0,"attributes":{"base_volume_id":null,"base_volume_name":null,"base_volume_pool":null,"format":"qcow2","id":"/var/lib/libvirt/images/ubuntu.qcow2","name":"ubuntu.qcow2","pool":"default","size":2361393152,"source":"/var/lib/libvirt/images/focal-server-cloudimg-amd64.img","xml":[]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["null_resource.download_ubuntu_image"]}]},{"mode":"managed","type":"libvirt_volume","name":"webserver_qcow2","provider":"provider[\"registry.opentofu.org/dmacvicar/libvirt\"]","instances":[{"schema_version":0,"attributes":{"base_volume_id":"/var/lib/libvirt/images/ubuntu.qcow2","base_volume_name":null,"base_volume_pool":null,"format":"qcow2","id":"/var/lib/libvirt/images/webserver.qcow2","name":"webserver.qcow2","pool":"default","size":2361393152,"source":null,"xml":[]},"sensitive_attributes":[],"private":"bnVsbA==","dependencies":["libvirt_volume.ubuntu_image","null_resource.download_ubuntu_image"]}]},{"mode":"managed","type":"local_file","name":"ansible_inventory","provider":"provider[\"registry.opentofu.org/hashicorp/local\"]","instances":[{"schema_version":0,"attributes":{"content":"[local]\nlocalhost ansible_connection=local\n\n[webserver]\nwebserver ansible_host=192.168.122.107 ansible_user=ansible\n\n[dbserver]\ndbserver ansible_host=192.168.122.110 ansible_user=ansible\n","content_base64":null,"content_base64sha256":"IKCQDWhBvaciO4a9ILeXSJE3FQ9OsWB7MTUPEChgoKA=","content_base64sha512":"CuFcjj5CmiH8pYOYB3gYRNmm3zNkN8dpSXQGn24kWuQyeDfRc76vK5oPkhO6mUEU82AlUs7WR6bulYn9VLQTvw==","content_md5":"6d42dbc064b236fe2bb37982d6b4f78a","content_sha1":"3d60077ffd61eb2a22b348ecea52a515b5b85bd7","content_sha256":"20a0900d6841bda7223b86bd20b797489137150f4eb1607b31350f102860a0a0","content_sha512":"0ae15c8e3e429a21fca5839807781844d9a6df336437c7694974069f6e245ae4327837d173beaf2b9a0f9213ba994114f3602552ced647a6ee9589fd54b413bf","directory_permission":"0777","file_permission":"0777","filename":"./inventory.ini","id":"3d60077ffd61eb2a22b348ecea52a515b5b85bd7","sensitive_content":null,"source":null},"sensitive_attributes":[[{"type":"get_attr","value":"sensitive_content"}]],"dependencies":["data.template_file.dbserver_user_data","data.template_file.webserver_user_data","libvirt_cloudinit_disk.dbserver_cloudinit","libvirt_cloudinit_disk.webserver_cloudinit","libvirt_domain.dbserver","libvirt_domain.webserver","libvirt_volume.dbserver_qcow2","libvirt_volume.ubuntu_image","libvirt_volume.webserver_qcow2","null_resource.download_ubuntu_image","null_resource.resize_dbserver_disk"]}]},{"mode":"managed","type":"null_resource","name":"download_ubuntu_image","provider":"provider[\"registry.opentofu.org/hashicorp/null\"]","instances":[{"schema_version":0,"attributes":{"id":"9207725012466465396","triggers":null},"sensitive_attributes":[]}]},{"mode":"managed","type":"null_resource","name":"resize_dbserver_disk","provider":"provider[\"registry.opentofu.org/hashicorp/null\"]","instances":[{"schema_version":0,"attributes":{"id":"4824197699916775583","triggers":null},"sensitive_attributes":[],"dependencies":["libvirt_volume.dbserver_qcow2","libvirt_volume.ubuntu_image","null_resource.download_ubuntu_image"]}]}],"check_results":null}
